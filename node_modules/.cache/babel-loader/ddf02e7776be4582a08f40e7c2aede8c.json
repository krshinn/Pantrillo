{"ast":null,"code":"import _taggedTemplateLiteral from\"/Users/krshinn/Documents/GitHub/Pantrillo/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";import _asyncToGenerator from\"/Users/krshinn/Documents/GitHub/Pantrillo/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/krshinn/Documents/GitHub/Pantrillo/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";var _templateObject,_templateObject2,_templateObject3;import _regeneratorRuntime from\"/Users/krshinn/Documents/GitHub/Pantrillo/node_modules/@babel/runtime/regenerator/index.js\";import{useEffect,useState}from'react';import styled from'styled-components';import{Splide,SplideSlide}from'@splidejs/react-splide';import'@splidejs/splide/dist/css/splide.min.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Popular(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),popular=_useState2[0],setPopular=_useState2[1];//create variable, function to modify, useState to define what kind of data you have\nuseEffect(function(){getPopular();},[]);var getPopular=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var check,api,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0://wait for data before you render anything out\ncheck=localStorage.getItem('popular');//check if there is something in local storage\nif(!check){_context.next=5;break;}setPopular(JSON.parse(check));//parsing it back to the array (string to an array)\n_context.next=14;break;case 5:_context.next=7;return fetch(\"https://api.spoonacular.com/recipes/random?apiKey=\".concat(process.env.REACT_APP_API_KEY,\"&number=5\"));case 7:api=_context.sent;_context.next=10;return api.json();case 10:data=_context.sent;localStorage.setItem('popular',JSON.stringify(data.recipes));//localstorage can only save strings/stringify\nsetPopular(data.recipes);console.log(data.recipes);case 14:case\"end\":return _context.stop();}}},_callee);}));return function getPopular(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(Wrapper,{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Recipe of the day\"}),/*#__PURE__*/_jsx(Splide,{options:{perPage:3,arrows:false,pagination:false,drag:'free',gap:\"5rem\"},children:popular.map(function(recipe){return/*#__PURE__*/_jsx(SplideSlide,{children:/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(\"p\",{children:recipe.title}),/*#__PURE__*/_jsx(\"img\",{src:recipe.image,alt:recipe.title}),/*#__PURE__*/_jsx(Gradient,{})]})},recipe.id);})})]})});}var Wrapper=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  margin: 4rem 0rem;\\n  \"])));var Card=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  min-height: 25rem;\\n  border-radius: 2rem;\\n  overflow: hidden;\\n  position: relative;\\n\\n  img {\\n    border-radius: 2rem;\\n    position: absolute;\\n    left: 0;\\n    width: 100%;\\n    height: 100%;\\n    object-fit: cover;\\n  }\\n\\n  p{\\n    position: absolute;\\n    z-index: 10;\\n    left: 50%;\\n    bottom: 0%;\\n    transform: translate(-50%, 0%);\\n    color: white;\\n    width: 100%;\\n    text-align: center;\\n    font-weight: 600;\\n    font-size: 1rem;\\n    height: 40%;\\n    display: flex;\\n    justify-content: center;\\n    align-items: center;\\n\\n\\n  }\\n\"])));var Gradient=styled.div(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\nz-index: 3;\\nposition: absolute;\\nwidth: 100%;\\nheight: 100%;\\nbackground: linear-gradient(rgba(0,0,0,0), rgba(0,0,0,0.5));\\n\"])));export default Popular;","map":{"version":3,"names":["useEffect","useState","styled","Splide","SplideSlide","Popular","popular","setPopular","getPopular","check","localStorage","getItem","JSON","parse","fetch","process","env","REACT_APP_API_KEY","api","json","data","setItem","stringify","recipes","console","log","perPage","arrows","pagination","drag","gap","map","recipe","title","image","id","Wrapper","div","Card","Gradient"],"sources":["/Users/krshinn/Documents/GitHub/Pantrillo/src/components/Popular.jsx"],"sourcesContent":["import { useEffect, useState } from 'react'\nimport styled from 'styled-components'\nimport { Splide, SplideSlide } from '@splidejs/react-splide'\nimport '@splidejs/splide/dist/css/splide.min.css';\n\n\n\nfunction Popular() {\n\n  const [popular, setPopular] = useState([])  //create variable, function to modify, useState to define what kind of data you have\n\n  useEffect(() => {\n  getPopular()\n\n\n  },[]);\n\n\n  const getPopular = async () => { //wait for data before you render anything out\n\n    const check = localStorage.getItem('popular') //check if there is something in local storage\n\n    if(check){\n      setPopular(JSON.parse(check)); //parsing it back to the array (string to an array)\n    }else {\n      const api = await fetch(\n        `https://api.spoonacular.com/recipes/random?apiKey=${process.env.REACT_APP_API_KEY}&number=5`\n      );\n      const data = await api.json()\n\n      localStorage.setItem('popular', JSON.stringify(data.recipes)) //localstorage can only save strings/stringify\n      setPopular(data.recipes)\n      console.log(data.recipes)\n    }\n  }\n  return(\n  <div>\n      <Wrapper>\n        <h3>Recipe of the day</h3>\n        <Splide options={{\n          perPage: 3,\n          arrows: false,\n          pagination: false,\n          drag: 'free',\n          gap: \"5rem\",\n        }}>\n          {popular.map((recipe) => {\n          return (\n            <SplideSlide key={recipe.id}>\n            <Card>\n              <p>{recipe.title}</p>\n              <img src={recipe.image} alt={recipe.title} />\n              <Gradient />\n            </Card>\n            </SplideSlide>\n          );\n        })}\n         </Splide>\n      </Wrapper>\n      </div>\n    )\n}\n\nconst Wrapper = styled.div`\n  margin: 4rem 0rem;\n  `;\n\nconst Card = styled.div`\n  min-height: 25rem;\n  border-radius: 2rem;\n  overflow: hidden;\n  position: relative;\n\n  img {\n    border-radius: 2rem;\n    position: absolute;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n  }\n\n  p{\n    position: absolute;\n    z-index: 10;\n    left: 50%;\n    bottom: 0%;\n    transform: translate(-50%, 0%);\n    color: white;\n    width: 100%;\n    text-align: center;\n    font-weight: 600;\n    font-size: 1rem;\n    height: 40%;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n\n\n  }\n`;\n\nconst Gradient = styled.div`\nz-index: 3;\nposition: absolute;\nwidth: 100%;\nheight: 100%;\nbackground: linear-gradient(rgba(0,0,0,0), rgba(0,0,0,0.5));\n`\nexport default Popular"],"mappings":"qkBAAA,OAASA,SAAT,CAAoBC,QAApB,KAAoC,OAApC,CACA,MAAOC,CAAAA,MAAP,KAAmB,mBAAnB,CACA,OAASC,MAAT,CAAiBC,WAAjB,KAAoC,wBAApC,CACA,MAAO,0CAAP,C,wFAIA,QAASC,CAAAA,OAAT,EAAmB,CAEjB,cAA8BJ,QAAQ,CAAC,EAAD,CAAtC,wCAAOK,OAAP,eAAgBC,UAAhB,eAA4C;AAE5CP,SAAS,CAAC,UAAM,CAChBQ,UAAU,GAGT,CAJQ,CAIP,EAJO,CAAT,CAOA,GAAMA,CAAAA,UAAU,0FAAG,sJAAc;AAEzBC,KAFW,CAEHC,YAAY,CAACC,OAAb,CAAqB,SAArB,CAFG,CAE6B;AAF7B,IAIdF,KAJc,yBAKfF,UAAU,CAACK,IAAI,CAACC,KAAL,CAAWJ,KAAX,CAAD,CAAV,CAA+B;AALhB,oDAOGK,CAAAA,KAAK,6DACgCC,OAAO,CAACC,GAAR,CAAYC,iBAD5C,cAPR,QAOTC,GAPS,sCAUIA,CAAAA,GAAG,CAACC,IAAJ,EAVJ,SAUTC,IAVS,eAYfV,YAAY,CAACW,OAAb,CAAqB,SAArB,CAAgCT,IAAI,CAACU,SAAL,CAAeF,IAAI,CAACG,OAApB,CAAhC,EAA8D;AAC9DhB,UAAU,CAACa,IAAI,CAACG,OAAN,CAAV,CACAC,OAAO,CAACC,GAAR,CAAYL,IAAI,CAACG,OAAjB,EAde,uDAAH,kBAAVf,CAAAA,UAAU,0CAAhB,CAiBA,mBACA,kCACI,MAAC,OAAD,yBACE,yCADF,cAEE,KAAC,MAAD,EAAQ,OAAO,CAAE,CACfkB,OAAO,CAAE,CADM,CAEfC,MAAM,CAAE,KAFO,CAGfC,UAAU,CAAE,KAHG,CAIfC,IAAI,CAAE,MAJS,CAKfC,GAAG,CAAE,MALU,CAAjB,UAOGxB,OAAO,CAACyB,GAAR,CAAY,SAACC,MAAD,CAAY,CACzB,mBACE,KAAC,WAAD,wBACA,MAAC,IAAD,yBACE,mBAAIA,MAAM,CAACC,KAAX,EADF,cAEE,YAAK,GAAG,CAAED,MAAM,CAACE,KAAjB,CAAwB,GAAG,CAAEF,MAAM,CAACC,KAApC,EAFF,cAGE,KAAC,QAAD,IAHF,GADA,EAAkBD,MAAM,CAACG,EAAzB,CADF,CASD,CAVE,CAPH,EAFF,GADJ,EADA,CA0BD,CAED,GAAMC,CAAAA,OAAO,CAAGlC,MAAM,CAACmC,GAAV,2FAAb,CAIA,GAAMC,CAAAA,IAAI,CAAGpC,MAAM,CAACmC,GAAV,wnBAAV,CAmCA,GAAME,CAAAA,QAAQ,CAAGrC,MAAM,CAACmC,GAAV,kMAAd,CAOA,cAAehC,CAAAA,OAAf"},"metadata":{},"sourceType":"module"}